<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AI EduTech â€” AI í‚¤ì›Œë“œ ê¸°ì‚¬ë§Œ ë³´ê¸°</title>
  <meta name="description" content="AI EduTech: AI/ì¸ê³µì§€ëŠ¥ ê´€ë ¨ êµ­ë‚´/í•´ì™¸ ë‰´ìŠ¤ íë ˆì´ì…˜" />
  <!-- AdSense ìë™ê´‘ê³ ê°€ í•„ìš”í•˜ë©´ ì´ head ì•ˆì— ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì¶”ê°€í•˜ì„¸ìš”. -->

  <style>
    :root{--bg:#f6f7f9;--bd:#e5e7eb;--txt:#111827;--muted:#6b7280}
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:var(--bg);color:var(--txt)}
    header{position:sticky;top:0;background:#fff;border-bottom:1px solid var(--bd);padding:12px 16px;z-index:10}
    h1{margin:0;font-size:18px}
    .topbar{display:flex;align-items:center;justify-content:space-between;gap:8px}
    .links{display:flex;gap:8px;flex-wrap:wrap}
    .badge{font-size:11px;border:1px solid var(--bd);border-radius:999px;padding:6px 10px;background:#fff;color:var(--txt);text-decoration:none}
    .tabs{display:flex;gap:8px;margin-top:8px;flex-wrap:wrap}
    .tab{padding:6px 10px;border:1px solid var(--bd);border-radius:999px;background:#fff;cursor:pointer}
    .tab.active{background:#111827;color:#fff;border-color:#111827}
    main{max-width:960px;margin:16px auto;padding:0 16px}
    .grid{display:grid;grid-template-columns:repeat(1,minmax(0,1fr));gap:12px}
    @media(min-width:720px){.grid{grid-template-columns:repeat(2,minmax(0,1fr))}}
    article{background:#fff;border:1px solid var(--bd);border-radius:12px;padding:14px}
    article h3{margin:0 0 8px;font-size:16px;line-height:1.35}
    article a{color:var(--txt);text-decoration:none}
    article a:hover{text-decoration:underline}
    .meta{font-size:12px;color:var(--muted);display:flex;gap:6px;flex-wrap:wrap}
    footer{padding:40px 16px;color:var(--muted);text-align:center}
    #updated{color:var(--muted)}
    .toolbar{display:flex;gap:8px;align-items:center;flex-wrap:wrap;margin:12px 0}
    input[type="search"]{padding:8px 10px;border:1px solid var(--bd);border-radius:8px;min-width:220px}
    .empty{color:var(--muted);text-align:center;padding:40px 8px}
  </style>
</head>
<body>
  <header>
    <div class="topbar">
      <h1>AI EduTech â€” AI í‚¤ì›Œë“œ ê¸°ì‚¬ë§Œ ë³´ê¸°</h1>
      <div class="links">
        <a class="badge" href="/privacy.html">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
        <a class="badge" href="/ads.txt">ads.txt</a>
      </div>
    </div>
    <div class="tabs">
      <button class="tab active" data-filter="all">ì „ì²´</button>
      <button class="tab" data-filter="domestic">êµ­ë‚´</button>
      <button class="tab" data-filter="overseas">í•´ì™¸</button>
    </div>
  </header>

  <main>
    <div class="toolbar">
      <div id="updated">ì—…ë°ì´íŠ¸ ì‹œê°ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘â€¦</div>
      <input id="q" type="search" placeholder="ì œëª© ê²€ìƒ‰ (ì˜ˆ: GPT, ìƒì„±í˜•, ì¸ê³µì§€ëŠ¥)">
      <button class="tab" id="refresh">ìƒˆë¡œê³ ì¹¨</button>
    </div>
    <section class="grid" id="list"></section>
    <div id="empty" class="empty" style="display:none">í‘œì‹œí•  ê¸°ì‚¬ê°€ ì—†ìŠµë‹ˆë‹¤. í‚¤ì›Œë“œë¥¼ ì¡°ì •í•˜ê±°ë‚˜ ì ì‹œ í›„ ìƒˆë¡œê³ ì¹¨í•´ ë³´ì„¸ìš”.</div>
  </main>

  <footer>Â© <script>document.write(new Date().getFullYear())</script> AI EduTech. ì›ë¬¸ ì €ì‘ê¶Œì€ ê° í¼ë¸”ë¦¬ì…”ì— ìˆìŠµë‹ˆë‹¤.</footer>

  <script>
    const elList = document.getElementById('list');
    const elTabs = document.querySelectorAll('.tab[data-filter]');
    const elUpdated = document.getElementById('updated');
    const elQ = document.getElementById('q');
    const elRefresh = document.getElementById('refresh');
    const elEmpty = document.getElementById('empty');

    // ğŸ”Ÿ í‚¤ì›Œë“œ(ë”± 10ê°œ). ì˜ì–´ëŠ” ë‹¨ì–´ ê²½ê³„ë¡œ, í•œêµ­ì–´ëŠ” ë¶€ë¶„ ì¼ì¹˜.
    const KEYWORDS = [
      { term: 'ai',                      re: /\bai\b/i },
      { term: 'artificial intelligence', re: /\bartificial\s+intelligence\b/i },
      { term: 'ì¸ê³µì§€ëŠ¥',                 re: /ì¸ê³µì§€ëŠ¥/i },
      { term: 'ë¨¸ì‹ ëŸ¬ë‹',                 re: /ë¨¸ì‹ ëŸ¬ë‹/i },
      { term: 'ë”¥ëŸ¬ë‹',                   re: /ë”¥ëŸ¬ë‹/i },
      { term: 'gpt',                     re: /\bgpt(?:-\d+)?\b/i },   // GPT, GPT-4 ë“±
      { term: 'llm',                     re: /\bllm\b/i },
      { term: 'generative ai',           re: /\bgenerative\s*ai\b/i },
      { term: 'ì±—gpt',                    re: /ì±—\s*?gpt/i },          // ì±—gpt, ì±— gpt
      { term: 'openai',                  re: /\bopenai\b|ì˜¤í”ˆ\s*ai/i }
    ];

    // "ì œëª©"ì— í‚¤ì›Œë“œê°€ í•˜ë‚˜ë¼ë„ ë“¤ì–´ê°€ë©´ true
    function hasKeyword(item) {
      const title = item.title || '';
      return KEYWORDS.some(k => k.re.test(title));
    }

    let all = [];                // í•­ìƒ "í‚¤ì›Œë“œ í•„í„°"ê°€ ì ìš©ëœ ë°ì´í„°ë§Œ ì €ì¥
    let currentFilter = 'all';   // íƒ­: all/domestic/overseas

    async function load() {
      try {
        const res = await fetch('./data/news.json', { cache: 'no-store' });
        if (!res.ok) throw new Error('HTTP ' + res.status);
        const json = await res.json();

        // âœ… ì œëª©ì— 10ê°œ í‚¤ì›Œë“œ ì¤‘ í•˜ë‚˜ë¼ë„ í¬í•¨ëœ ê¸°ì‚¬ë§Œ ë‚¨ê¹ë‹ˆë‹¤.
        const filtered = (json.items || []).filter(hasKeyword);

        all = filtered;
        elUpdated.textContent = `ì—…ë°ì´íŠ¸: ${new Date(json.generatedAt).toLocaleString()}`;
        render();
      } catch (e) {
        elUpdated.textContent = 'ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.';
        elList.innerHTML = '';
        elEmpty.style.display = 'block';
      }
    }

    function render() {
      let items = currentFilter === 'all' ? all : all.filter(x => x.group === currentFilter);

      const q = elQ.value.trim().toLowerCase();
      if (q) items = items.filter(x => (x.title || '').toLowerCase().includes(q));

      // íƒ­ í™œì„±í™” í‘œì‹œ
      elTabs.forEach(b => b.classList.toggle('active', b.dataset.filter === currentFilter));

      if (!items.length) {
        elList.innerHTML = '';
        elEmpty.style.display = 'block';
        return;
      }
      elEmpty.style.display = 'none';
      elList.innerHTML = items.slice(0, 60).map(card).join('');
    }

    function card(x) {
      const dt = x.publishedAt ? new Date(x.publishedAt).toLocaleString() : '';
      const host = (() => { try { return new URL(x.link).host.replace(/^www\./,''); } catch { return ''; }})();
      const groupLabel = x.group === 'domestic' ? 'êµ­ë‚´' : (x.group === 'overseas' ? 'í•´ì™¸' : '');
      return `
        <article>
          <h3><a href="${x.link}" target="_blank" rel="noopener">${escapeHtml(x.title)}</a></h3>
          <div class="meta">
            ${groupLabel ? `<span>${groupLabel}</span>Â·` : ''}<span>${dt}</span>Â·
            <span>${escapeHtml(x.source)}${host?` / ${host}`:''}</span>
          </div>
        </article>
      `;
    }

    function escapeHtml(s){return (s||'').replace(/[&<>"']/g, c=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"}[c]))}

    // ì´ë²¤íŠ¸ë“¤
    elTabs.forEach(b => b.addEventListener('click', () => { currentFilter = b.dataset.filter; render(); }));
    elQ.addEventListener('input', render);
    elRefresh.addEventListener('click', load);

    // ìµœì´ˆ ë¡œë“œ
    load();
  </script>
</body>
</html>
